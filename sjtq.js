var body = $request.body;
try {
    var json = JSON.parse(body);
    var targetArray = json["ques"];
    var newOptions = [
      {"userAnswer":["78423321649363"],"id":21696746345394,"originOptions":[78419445352953,78420203187232,78423321649363,78425669241629]},
      {"userAnswer":["78517332214628"],"id":21718369800018,"originOptions":[78511790901616,78513924114194,78516217938846,78517332214628]},
      {"userAnswer":["79011806998719"],"id":21856724420663,"originOptions":[79007458676019,79008573431434,79011806998719,79013285885223]},
      {"userAnswer":["79109356920171"],"id":21879233252281,"originOptions":[79106010609221,79107834576617,79109356920171,79112314574575]},
      {"userAnswer":["79305545198731"],"id":21933254429189,"originOptions":[79305545198731,79306842638014]},
      {"userAnswer":["78423321649363"],"id":21696746345394,"originOptions":[78419445352953,78420203187232,78423321649363,78425669241629]},
      {"userAnswer":["78423321649363"],"id":21696746345394,"originOptions":[78419445352953,78420203187232,78423321649363,78425669241629]},
      {"userAnswer":["78379660108563","78384700300614","78387444864153","78389346600489"],id:21688628448709,"originOptions":[78379660108563,78382908615071,78384700300614,78387444864153,78389346600489]},
      {"userAnswer":["78427162885770","78430132621171","78433968926487","78435920890912"],id:21699795221391,"originOptions":[78427162885770,78430132621171,78431831005327,78433968926487,78435920890912]},
      {"userAnswer":["78546311135152"],id:21729802966439,"originOptions":[78546311135152,78547750511588,78548717052922,78551269549397]},
      {"userAnswer":["78647293398446"],id:21753288513760,"originOptions":[78640379748111,78641631904863,78644970587809,78647293398446]},
      {"userAnswer":["78909984420324"],id:21830498596082,"originOptions":[78909984420324,78912771887041]},
      {"userAnswer":["78654334782202"],id:21755190573260,"originOptions":[78648870271332,78650827814505,78651951197612,78654334782202]},
      {"userAnswer":["78536562534097"],id:21726461606036,"originOptions":[78536562534097,78539147781626,78541911067926,78544079689345]},
      {"userAnswer":["79223313710697"],id:21906901096619,"originOptions":[79221546515789,79223313710697,79225949646030,79227664977351]},
      {"userAnswer":["79326722446599"],"id":21944373093460,"originOptions":[79326722446599,79328401015275]},
      {"userAnswer":["79344917780642","79346179202490","79348203229786"],"id":21949668558495,"originOptions":[79344917780642,79346179202490,79348203229786,79350483478536]},
      {"userAnswer":["79416173346844"],"id":21969067503445,"originOptions":[79416004945362,79416173346844,79418447136016,79421781980535]},
      {"userAnswer":["79423853753839","79428277341796","79430346943737"],"id":21971909660301,"originOptions":[79423853753839,79426808419223,79428277341796,79430346943737]},
      {"userAnswer":["79518258900491","79520386562868","79522452516543","79524674302142","79527236009006"],"id":21992708199809,"originOptions":[79518258900491,79520386562868,79522452516543,79524674302142,79527236009006]}
      {"userAnswer":["78517332214628"],"id":21718369800018,"originOptions":[78511790901616,78513924114194,78516217938846,78517332214628]},
      {"userAnswer":["79011806998719"],"id":21856724420663,"originOptions":[79007458676019,79008573431434,79011806998719,79013285885223]},
      {"userAnswer":["79109356920171"],"id":21879233252281,"originOptions":[79106010609221,79107834576617,79109356920171,79112314574575]},
      {"userAnswer":["79305545198731"],"id":21933254429189,"originOptions":[79305545198731,79306842638014]},
      {"userAnswer":["79326722446599"],"id":21944373093460,"originOptions":[79326722446599,79328401015275]},
      {"userAnswer":["79344917780642","79346179202490","79348203229786"],"id":21949668558495,"originOptions":[79344917780642,79346179202490,79348203229786,79350483478536]},
      {"userAnswer":["79416173346844"],"id":21969067503445,"originOptions":[79416004945362,79416173346844,79418447136016,79421781980535]},
      {"userAnswer":["79423853753839","79428277341796","79430346943737"],"id":21971909660301,"originOptions":[79423853753839,79426808419223,79428277341796,79430346943737]},
      {"userAnswer":["79518258900491","79520386562868","79522452516543","79524674302142","79527236009006"],"id":21992708199809,"originOptions":[79518258900491,79520386562868,79522452516543,79524674302142,79527236009006]}
      {"userAnswer":["79326722446599"],"id":21944373093460,"originOptions":[79326722446599,79328401015275]},
      {"userAnswer":["79344917780642","79346179202490","79348203229786"],"id":21949668558495,"originOptions":[79344917780642,79346179202490,79348203229786,79350483478536]},
      {"userAnswer":["79416173346844"],"id":21969067503445,"originOptions":[79416004945362,79416173346844,79418447136016,79421781980535]},
      {"userAnswer":["79423853753839","79428277341796","79430346943737"],"id":21971909660301,"originOptions":[79423853753839,79426808419223,79428277341796,79430346943737]},
      {"userAnswer":["79518258900491","79520386562868","79522452516543","79524674302142","79527236009006"],"id":21992708199809,"originOptions":[79518258900491,79520386562868,79522452516543,79524674302142,79527236009006]};]
    var indexArr = [...new Array(newOptions.length).keys()]; // 创建包含所有索引值的数组
    var selectedIndexes = [];
    for (var i = 0; i < 10; i++) { // 随机选择 10 个索引值
        var randomIndex = Math.floor(Math.random() * indexArr.length);
        selectedIndexes.push(indexArr[randomIndex]);
        indexArr.splice(randomIndex, 1); // 移除已经选择的索引值
    }
    for (var j = 0; j < targetArray.length; j++) {
        if (selectedIndexes.includes(j)) { // 只替换随机选择的索引值对应的元素
            var randomIndex2 = Math.floor(Math.random() * newOptions.length);
            var newQuestion = newOptions[randomIndex2];
            targetArray[j]["userAnswer"] = newQuestion["userAnswer"];
            targetArray[j]["id"] = newQuestion["id"];
            targetArray[j]["originOptions"] = newQuestion["originOptions"];
        }
    }
    $done({body: JSON.stringify(json)});
} catch (e) {
    console.log("Error parsing JSON:", e);
    $done({});
}
